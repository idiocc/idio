<types namespace="_idio">
  <import from="http" name="Server" />

  <type name="Config" desc="Server configuration object.">
    <prop number name="port" default="5000">
      The port on which to start the server.
    </prop>
    <prop string name="host" default="0.0.0.0">
      The host on which to listen.
    </prop>
    <prop type="!_goa.RouterConfig" name="router" opt>
      The configuration for the router.
    </prop>
  </type>

  <record name="Idio" desc="The return type of the idio.">
    <prop string name="url">
      The URL on which the server was started, such as `http://localhost:5000`.
    </prop>
    <prop type="!http.Server" name="server">
      The server instance.
    </prop>
    <prop type="!_idio.Application" name="app">
      The Goa application instance (with additional `.destroy` method).
    </prop>
    <prop type="!Object<string, !_idio.Middleware>" name="middleware">
      An object with configured middleware functions, which can be installed manually using `app.use`, or `router.use`. The context will be a standard Goa context with certain properties set by bundled middleware such as `.session`.
    </prop>
    <prop type="!_goa.Router" name="router">
      The router instance.
    </prop>
  </record>
</types>